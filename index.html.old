<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>JukeBox Home</title>
    <!--<script src="https://unpkg.com/htmx.org@2.0.3"-->
    <!--    integrity="sha384-0895/pl2MU10Hqc6jd4RvrthNlDiE9U1tWmX7WRESftEDRosgxNsQG/Ze9YMRzHq"-->
    <!--    crossorigin="anonymous"></script>-->
    <script src="/node_modules/htmx.org/dist/htmx.min.js"></script>

    <script src="/scripts/index.js"></script>
    <script src="/scripts/websocket_room.js"></script>
</head>

<body>
    <noscript><br>You need JavaSciprt for this website<br></noscript>

    <fieldset>
        <legend>Current room</legend>
        <div id="current_room" hx-on::after-swap="swapInviteLink()">
            {{ template "current_room" .CurrentRoom }}
        </div>
    </fieldset>
    <br>

    <form hx-post="./create-room" hx-target="#current_room" hx-vals="js:{user_id: hxGetUserID()}">
        <fieldset>
            <legend>Config new room</legend>
            <div>
                <label for="cfg_username">user name: </label>
                <input name="cfg_username" id="cfg_username" placeholder="(optional)" />
            </div><br>
            <div>
                <label for="cfg_pin">Custom pin</label>
                <input type="text" name="cfg_pin" id="cfg_pin" placeholder="(optional)" />
            </div><br>
            <div>
                <input type="checkbox" name="cfg_private" id="cfg_private" />
                <label for="cfg_private">private room</label>
            </div>
        </fieldset>
        <button type="submit">create</button>
    </form>

    <hr>
    <fieldset>
        <legend>public rooms</legend>
        {{ template "public_rooms_display" .PublicRooms }}
    </fieldset>
</body>

</html>
